// News.js ‚Äî —Å–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏–≥—Ä—ã

const updatesList = [
    {
        version: "v2.2",
        date: "08.01.2026",
        title: "üî• –ë–æ–ª—å—à–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ!",
        changes: [
            "–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ (üèÜ –¢–û–ü) —Å —Ç—Ä–µ–º—è —Ä–∞–∑–¥–µ–ª–∞–º–∏: –±–æ–≥–∞—Ç—ã–µ, –¥–∞–Ω–∂–∏ –∏ –æ–±—â–∏–π —É—Ä–æ–≤–µ–Ω—å",
            "–ü–æ–¥–∫–ª—é—á–µ–Ω–∞ –æ–±–ª–∞—á–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞–¥—ë–∂–Ω–æ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤",
            "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–Ω–µ—Ç (—Ç–µ–ø–µ—Ä—å –≤—Å—ë —Å—Ç–∞–±–∏–ª—å–Ω–æ)",
            "–£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–µ–ª–∫–∏–µ –±–∞–≥–∏"
        ]
    },
    {
        version: "v2.1",
        date: "07.01.2026",
        title: "üî• –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è",
        changes: [
            "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ –∫—Ä–∏—Ç–∞—Ö, —É–¥–∞—Ä–∞—Ö –∏ —Ç.–¥.",
            "–î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö –≤ –º–∞–≥–∞–∑–∏–Ω–µ (double_chance, triple_chance –∏ —Ç.–¥.)",
            "–£–±—Ä–∞–Ω—ã –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ –º–µ—á–∏ –∏–∑ –º–∞–≥–∞–∑–∏–Ω–∞ ‚Äî —Ç–æ–ª—å–∫–æ –¥—Ä–æ–ø",
            "–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–ª–∞—Ç–Ω—ã–µ —Å—É–Ω–¥—É–∫–∏ –¥–ª—è 5-6 —ç—Ç–∞–∂–µ–π (–æ–±—ã—á–Ω—ã–π, —ç–ø–∏—á–µ—Å–∫–∏–π, —ç–ª–∏—Ç–Ω—ã–π —Å —Ä–∞–∑–Ω—ã–º–∏ —à–∞–Ω—Å–∞–º–∏ –Ω–∞ –ì–∏–ø–µ—Ä–∏–æ–Ω)",
            "–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ \"–ó–∞–≥–æ–Ω\" –≤ –ø–æ—Ä—Ç–∞–ª–µ, —Ä–∞–∑–¥–µ–ª \"–ü–ò–¢–û–ú–¶–´\" –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ",
            "–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∏—Ç–æ–º—Ü—ã –≤ –º–∞–≥–∞–∑–∏–Ω (—á–µ—à—É–π–Ω–∏—Ü–∞, –∫—Ä–æ–ª–∏–∫, —Å–∫–≤–∏–¥) –∑–∞ 5000, —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏, —É—Ä–æ–≤–Ω—è–º–∏ –∏ –±–æ–Ω—É—Å–∞–º–∏"
        ]
    },
    {
        version: "v2.0",
        date: "06.01.2026",
        title: "–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞",
        changes: [
            "–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞—Å—Å–æ–≤ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏",
            "–î–æ–±–∞–≤–ª–µ–Ω—ã –±–æ–Ω—É—Å—ã –∑–∞ –ø—Ä–æ–∫–∞—á–∫—É –∫–∞–∂–¥–æ–≥–æ –Ω–∞–≤—ã–∫–∞",
            "–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞ –±—Ä–æ–Ω–∏ (—É—Ä–æ–Ω —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—â–∏—Ç—ã)",
            "–ù–æ–≤—ã–µ –Ω–∞–≥—Ä–∞–¥—ã –≤ –¥–∞–Ω–∂–∞—Ö —Å –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏",
            "–ò—Å—Ü–µ–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –º–æ–±–∞ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –•–∏–ª–ª–µ—Ä–∞"
        ],
        subsections: [
            {
                title: "‚öîÔ∏è –ö–ª–∞—Å—Å—ã –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:",
                items: [
                    "<b>–ë–µ—Ä—Å–µ—Ä–∫</b>: +20% —É—Ä–æ–Ω–∞ –≤ –¥–∞–Ω–∂–∞—Ö, 20% —à–∞–Ω—Å –¥–≤–æ–π–Ω–æ–≥–æ —É–¥–∞—Ä–∞",
                    "<b>–ê—Ä—á–µ—Ä</b>: 20% —à–∞–Ω—Å –≤–∞–Ω—à–æ—Ç–∞ –æ–±—ã—á–Ω—ã—Ö –º–æ–±–æ–≤, 3% —à–∞–Ω—Å –Ω–∞–Ω–µ—Å—Ç–∏ 40% –•–ü –±–æ—Å—Å—É",
                    "<b>–¢–∞–Ω–∫</b>: +30% –±—Ä–æ–Ω–∏, +5% —Å–∏–ª—ã",
                    "<b>–ú–∞–≥</b>: +20% –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–Ω–∞",
                    "<b>–•–∏–ª–ª–µ—Ä</b>: +5% –∫–æ –≤—Å–µ–º —Å—Ç–∞—Ç–∞–º, +20% –•–ü –ø–æ—Å–ª–µ —É–±–∏–π—Å—Ç–≤–∞ –º–æ–±–∞"
                ]
            },
            {
                title: "üìä –ë–æ–Ω—É—Å—ã –æ—Ç –Ω–∞–≤—ã–∫–æ–≤:",
                items: [
                    "–®–∞—Ö—Ç–∞: +2 –±—Ä–æ–Ω–∏ –∑–∞ —É—Ä–æ–≤–µ–Ω—å",
                    "–§–µ—Ä–º–∞: +2 –∑–¥–æ—Ä–æ–≤—å—è –∑–∞ —É—Ä–æ–≤–µ–Ω—å",
                    "–õ–µ—Å: +2 —Å–∏–ª—ã –∑–∞ —É—Ä–æ–≤–µ–Ω—å",
                    "–†—ã–±–∞–ª–∫–∞: +1 –∑–¥–æ—Ä–æ–≤—å–µ –∏ +1 –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –∑–∞ —É—Ä–æ–≤–µ–Ω—å",
                    "–ë–æ–π: +2 —Å–∏–ª—ã –∏ +2 –∫—Ä–∏—Ç. —É—Ä–æ–Ω–∞ –∑–∞ —É—Ä–æ–≤–µ–Ω—å",
                    "–î–∞–Ω–∂–∏: +1.5% –∫–æ –≤—Å–µ–º —Å—Ç–∞—Ç–∞–º (–∫—Ä–æ–º–µ —É–¥–∞—á–∏) –∑–∞ —É—Ä–æ–≤–µ–Ω—å ‚Äî —Ç–æ–ª—å–∫–æ –≤ –¥–∞–Ω–∂–∞—Ö"
                ]
            },
            {
                title: "üéÅ –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã (–≥–¥–µ –≤–∑—è—Ç—å):",
                items: [
                    "<b>–ú–µ—á –ú–∏–¥–∞—Å–∞</b> (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å–∏–ª–∞ –æ—Ç –º–æ–Ω–µ—Ç) ‚Äî –¥—Ä–æ–ø —Å 4‚Äì5 —ç—Ç–∞–∂–∞",
                    "<b>–ú–µ—á –ì–∏–≥–∞–Ω—Ç–∞</b> (+100 —Å–∏–ª—ã, +50% –∫—Ä–∏—Ç. —É—Ä–æ–Ω–∞) ‚Äî –¥—Ä–æ–ø —Å 5 —ç—Ç–∞–∂–∞ (3%)",
                    "<b>–ì–∏–ø–µ—Ä–∏–æ–Ω</b> (–º–∞–≥–∏—á–µ—Å–∫–æ–µ –æ—Ä—É–∂–∏–µ) ‚Äî –¥—Ä–æ–ø —Å 6 —ç—Ç–∞–∂–∞ (0.5%)"
                ]
            }
        ]
    }
];

// –§—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
function renderUpdates() {
    const modal = document.getElementById('updatesModal');
    let html = `
        <span style="float:right;font-weight:bold;cursor:pointer" onclick="game.closeModal('updatesModal')">[–ó–ê–ö–†–´–¢–¨]</span>
        <h3 style="color:var(--accent);text-align:center">üìú –û–ë–ù–û–í–õ–ï–ù–ò–Ø</h3>
    `;

    updatesList.forEach(update => {
        html += `
            <div class="changelog-section">
                <h3 style="color:var(--accent);text-align:center">${update.version} ‚Äî ${update.date}</h3>
                <h4>${update.title}</h4>
                <ul>
        `;

        // –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
        update.changes.forEach(change => {
            html += `<li>‚Ä¢ ${change}</li>`;
        });

        html += `</ul>`;

        // –ü–æ–¥—Å–µ–∫—Ü–∏–∏ (–¥–ª—è v2.0)
        if (update.subsections) {
            update.subsections.forEach(sub => {
                html += `<h4>${sub.title}</h4><ul>`;
                sub.items.forEach(item => {
                    html += `<li>${item}</li>`;
                });
                html += `</ul>`;
            });
        }

        html += `</div>`;
    });

    modal.innerHTML = html;
}

// –†–µ–Ω–¥–µ—Ä–∏–º –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏
const originalShowModal = game.showModal;
game.showModal = function(id) {
    originalShowModal.call(this, id);
    if (id === 'updatesModal') {
        renderUpdates();
    }
};
